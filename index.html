<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory Recall Game</title>
    <style>
        /* Set the body style with a gradient background and central alignment */
        body {
            background: linear-gradient(135deg, #1a1a1a, #2a2a2a, #3a3a3a);
            background-size: 300% 300%;
            animation: gradientAnimation 5s ease infinite; /* Animate the gradient */
            color: #e0e0e0;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }

        /* Header style */
        h1 {
            margin-bottom: 20px;
        }

        /* Label styling */
        label {
            display: block;
            margin-bottom: 10px;
        }

        /* Input and button styling */
        input, button {
            background-color: #1f1f1f; /* Dark background for inputs and buttons */
            color: #e0e0e0; /* Light text color */
            border: 1px solid #333; /* Border for inputs and buttons */
            padding: 5px; /* Padding inside inputs and buttons */
            margin-bottom: 15px; /* Space between elements */
            width: 100%; /* Full width */
        }

        /* Button specific styles */
        button {
            padding: 10px; /* Increased padding for buttons */
            cursor: pointer; /* Pointer cursor on hover */
        }

        /* Button hover effect */
        button:hover {
            background-color: #555; /* Lighter background on hover */
        }

        /* Modal styles for showing items */
        #items-modal {
            display: none; /* Hidden by default */
            position: fixed; /* Fixed position on the screen */
            z-index: 1000; /* High stacking order */
            left: 0;
            top: 0;
            width: 100%; /* Full screen width */
            height: 100%; /* Full screen height */
            background-color: rgba(0, 0, 0, 0.8); /* Semi-transparent background */
            justify-content: center; /* Center items horizontally */
            align-items: center; /* Center items vertically */
        }

        /* Modal content styles */
        #items-modal-content {
            background-color: #1f1f1f; /* Dark background for modal */
            padding: 20px; /* Padding inside modal */
            border-radius: 10px; /* Rounded corners */
            width: 80%; /* Responsive width */
            max-width: 600px; /* Max width limit */
            color: #e0e0e0; /* Light text color */
            position: relative; /* Position for close button */
            max-height: 80%; /* Limit height */
            overflow-y: auto; /* Scroll if content overflows */
        }

        /* List styles inside the modal */
        #items-modal-content ul {
            list-style-type: none; /* Remove bullet points */
            padding: 0; /* Remove padding */
            text-align: left; /* Left align text */
        }

        /* List item styles */
        #items-modal-content ul li {
            margin-bottom: 5px; /* Space between list items */
        }

        /* Close button styles */
        #close-modal {
            position: absolute; /* Absolute position within modal */
            top: 10px; /* Position from top */
            right: 10px; /* Position from right */
            background-color: #444; /* Dark background for close button */
            color: #fff; /* White text */
            padding: 5px 10px; /* Padding for close button */
            cursor: pointer; /* Pointer cursor on hover */
            border-radius: 5px; /* Rounded corners */
        }

        /* Game area styling */
        #game-area {
            display: none; /* Hidden by default */
            margin-top: 20px; /* Space above game area */
        }

        /* Container for correct guesses */
        .correct-items {
            margin-top: 20px; /* Space above correct items */
            display: flex; /* Flexbox for layout */
            flex-wrap: wrap; /* Wrap items to new lines */
        }

        /* Individual correct item styles */
        .correct-items div {
            background-color: #1f1f1f; /* Dark background for correct items */
            padding: 10px; /* Padding inside */
            margin: 5px; /* Space between items */
            border-radius: 5px; /* Rounded corners */
            border: 1px solid #333; /* Border around items */
        }

        /* Toast notification styles */
        #toast {
            visibility: hidden; /* Hidden by default */
            min-width: 250px; /* Minimum width */
            margin-top: 10px; /* Space above toast */
            background-color: #333; /* Dark background */
            color: #fff; /* White text */
            text-align: center; /* Center text */
            border-radius: 5px; /* Rounded corners */
            padding: 16px; /* Padding inside */
            position: fixed; /* Fixed position on screen */
            z-index: 1000; /* High stacking order */
            left: 50%; /* Center horizontally */
            transform: translateX(-50%); /* Adjust for centering */
            top: 10px; /* Position from top */
            font-size: 16px; /* Font size */
        }

        /* Toast show animation */
        #toast.show {
            visibility: visible; /* Show when active */
            animation: fadein 0.5s, fadeout 0.5s 3s; /* Fade in and out */
        }

        /* Fade in animation */
        @keyframes fadein {
            from {top: 0; opacity: 0;} /* Start invisible */
            to {top: 10px; opacity: 1;} /* End visible */
        }

        /* Fade out animation */
        @keyframes fadeout {
            from {top: 10px; opacity: 1;} /* Start visible */
            to {top: 0; opacity: 0;} /* End invisible */
        }

        /* Gradient animation */
        @keyframes gradientAnimation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
    </style>
</head>
<body>

    <h1>Memory Recall Game</h1>

    <div id="menu">
        <!-- Input for number of items -->
        <label for="num-items">Number of items (10 to 100):</label>
        <input type="number" id="num-items" min="10" max="100" value="10">

        <!-- Checkbox for limiting wrong guesses -->
        <label for="limit-guesses">Limit wrong guesses to 20% of items:</label>
        <input type="checkbox" id="limit-guesses">

        <!-- Button to start the game -->
        <button id="start-btn">Start Game</button>
    </div>

    <div id="game-area">
        <!-- Input for user guesses -->
        <input type="text" id="guess-input" placeholder="Enter your guesses" autocomplete="off">
        <!-- Button to reset the game -->
        <button id="reset-btn">Reset Game</button>

        <!-- Container for displaying correct guesses -->
        <div class="correct-items" id="correct-items"></div>
    </div>

    <!-- Modal for displaying items to memorize -->
    <div id="items-modal">
        <div id="items-modal-content">
            <span id="close-modal">Close</span>
            <h2>Memorize these items:</h2>
            <ul id="items-list"></ul>
        </div>
    </div>

    <!-- Toast notification element -->
    <div id="toast"></div>

    <script>
        // List of items for the game
        const itemsList = [
            "Toothbrush", "Toothpaste", "Soap", "Shampoo", "Conditioner", "Towel", "Toilet paper", "Razor", 
            "Deodorant", "Lotion", "Hairbrush", "Comb", "Nail clippers", "Cotton swabs", "Cotton balls", 
            "Face wash", "Sunscreen", "Lip balm", "Mouthwash", "Perfume", "Shampoo", "Dish soap", 
            "Sponges", "Paper towels", "Trash bags", "Laundry detergent", "Fabric softener", "Iron", 
            "Ironing board", "Vacuum cleaner", "Broom", "Dustpan", "Mop", "Bucket", "Cleaning spray", 
            "Spatula", "Cutting board", "Knife", "Pot", "Pan", "Oven mitts", "Measuring cups", 
            "Measuring spoons", "Whisk", "Can opener", "Peeler", "Colander", "Mixing bowl", 
            "Food storage containers", "Aluminum foil", "Plastic wrap", "Baking sheets", "Coffee maker", 
            "Coffee filters", "Teapot", "Kettle", "Blender", "Microwave", "Toaster", "Cutting knife", 
            "Grater", "Tupperware", "Ice cube tray", "Water bottle", "Lunchbox", "Thermos", "Scissors", 
            "Tape", "Glue", "Notebooks", "Pens", "Pencils", "Highlighters", "Sticky notes", "Stapler", 
            "Paper clips", "Rubber bands", "Calendar", "Phone charger", "Headphones", "Laptop", 
            "Tablet", "Remote control", "Light bulbs", "Extension cord", "First aid kit", "Flashlight", 
            "Batteries", "Umbrella", "Sunglasses", "Wallet", "Keys", "Backpack", "Watering can", 
            "Plant pots", "Garden gloves", "Bicycle pump", "Sports equipment", "Board games", "Books"
        ];

        // Element references
        const startBtn = document.getElementById('start-btn'); // Start game button
        const resetBtn = document.getElementById('reset-btn'); // Reset game button
        const gameArea = document.getElementById('game-area'); // Game area container
        const guessInput = document.getElementById('guess-input'); // User input for guesses
        const correctItemsContainer = document.getElementById('correct-items'); // Container for correct guesses
        const numItemsInput = document.getElementById('num-items'); // Input for number of items
        const limitGuessesCheckbox = document.getElementById('limit-guesses'); // Checkbox for limiting guesses
        const itemsModal = document.getElementById('items-modal'); // Modal for items
        const itemsListElement = document.getElementById('items-list'); // List for displaying items in modal
        const closeModalBtn = document.getElementById('close-modal'); // Close button for modal
        const toast = document.getElementById('toast'); // Toast notification

        // Variables for game logic
        let correctItems = []; // Array for correct guesses
        let shownItems = []; // Array for items shown to the user
        let wrongGuesses = 0; // Count of wrong guesses
        let maxWrongGuesses = 0; // Maximum allowable wrong guesses

        // Function to show toast notifications
        function showToast(message) {
            toast.innerHTML = message; // Set message
            toast.className = "show"; // Show toast
            setTimeout(() => { 
                toast.className = toast.className.replace("show", ""); // Hide toast after timeout
            }, 3500);
        }

        // Function to reset the game state
        function resetGame() {
            correctItems = []; // Clear correct guesses
            shownItems = []; // Clear shown items
            wrongGuesses = 0; // Reset wrong guesses count
            correctItemsContainer.innerHTML = ''; // Clear displayed correct items
            gameArea.style.display = 'none'; // Hide game area
            numItemsInput.value = 10; // Reset number of items input
            limitGuessesCheckbox.checked = false; // Reset limit guesses checkbox
            itemsModal.style.display = 'none'; // Hide modal
        }

        // Function to start the game
        function startGame() {
            const numItems = parseInt(numItemsInput.value); // Get number of items from input

            // Calculate maximum wrong guesses based on the checkbox
            maxWrongGuesses = limitGuessesCheckbox.checked ? Math.floor(numItems * 0.2) : Infinity;

            // Randomly select items from the list
            shownItems = itemsList.sort(() => 0.5 - Math.random()).slice(0, numItems);
            
            // Show the items in the modal for memorization
            itemsListElement.innerHTML = ''; // Clear previous items
            shownItems.forEach(item => {
                const listItem = document.createElement('li'); // Create list item
                listItem.textContent = item; // Set item text
                itemsListElement.appendChild(listItem); // Add item to the list
            });

            // Display the modal
            itemsModal.style.display = 'flex'; // Show modal
        }

        // Function to close the modal and start the game
        function closeModalAndStartGame() {
            itemsModal.style.display = 'none'; // Hide modal
            gameArea.style.display = 'block'; // Show game area
            showToast("Start guessing!"); // Notify user to start guessing
            guessInput.focus(); // Focus on input for guesses
        }

        // Function to check the user's guess
        function checkGuess() {
            const guess = guessInput.value.trim().toLowerCase(); // Get and format user guess
            if (guess === '') return; // Ignore empty guesses
            guessInput.value = ''; // Clear input

            // Check if the guess is correct
            if (shownItems.map(item => item.toLowerCase()).includes(guess)) {
                if (!correctItems.includes(guess)) { // If not already guessed
                    correctItems.push(guess); // Add to correct guesses
                    const correctItemElement = document.createElement('div'); // Create element for correct item
                    correctItemElement.textContent = guess; // Set item text
                    correctItemsContainer.appendChild(correctItemElement); // Add to correct items container
                    showToast(`Correct: ${guess}`); // Show correct notification
                } else {
                    showToast(`Already guessed: ${guess}`); // Notify already guessed
                }

                // Check if all items have been guessed correctly
                if (correctItems.length === shownItems.length) {
                    showToast("You won!"); // Notify user of win
                    setTimeout(resetGame, 3000); // Reset game after delay
                }
            } else { // If the guess is incorrect
                wrongGuesses++; // Increment wrong guesses count
                const remainingGuesses = maxWrongGuesses === Infinity ? 'infinite guesses left' : `${maxWrongGuesses - wrongGuesses} guesses left`; // Determine remaining guesses
                showToast(`Wrong: ${guess}. ${remainingGuesses}. ${shownItems.includes(guess) ? '' : `${guess} is not an item!`}`); // Notify user of wrong guess

                // Check if the game is over due to too many wrong guesses
                if (wrongGuesses >= maxWrongGuesses) {
                    showToast("Game over! You lost."); // Notify user of loss
                    setTimeout(resetGame, 3000); // Reset game after delay
                }
            }
        }

        // Event listeners for user interactions
        startBtn.addEventListener('click', startGame); // Start game button click
        resetBtn.addEventListener('click', resetGame); // Reset game button click
        closeModalBtn.addEventListener('click', closeModalAndStartGame); // Close modal button click
        guessInput.addEventListener('keydown', (e) => { // Input field for guesses
            if (e.key === 'Enter') { // Check for Enter key press
                checkGuess(); // Call checkGuess function
            }
        });

    </script>

</body>
</html>
